{"ast":null,"code":"import{Link}from\"react-router-dom\";import'../../css/inscription.css';import{useLanguage}from'../../store/languageContext';import{useTheme}from'../../store/themeContext';import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Inscription(){const{languageData}=useLanguage();const[login,setLogin]=useState(\"\");const[mdp,setMdp]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");// Pour afficher les messages d'erreur\nconst[nom,setNom]=useState(\"\");const[prenom,setPrenom]=useState(\"\");const{themeData}=useTheme();// Fonction pour vérifier les identifiants via le backend PHP\nconst submitInscription=async()=>{try{const response=await fetch('http://localhost/word-box/server/routeur.php',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:new URLSearchParams({objet:'Client',action:'inscrire',userName:login,mdp:mdp,prenomClient:prenom,nomClient:nom})});if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();console.log('reponse webservice',data);return true;}catch(error){console.error(\"Erreur lors de la création du compte :\",error);return false;}};// Appeler la fonction checkCredentials dans handleSubmit\nconst handleSubmit=async e=>{e.preventDefault();const isValid=await submitInscription();if(isValid){window.location.href=\"/home\";// Rediriger vers la page d'accueil\n}else{setErrorMessage(\"Échec de la connexion. Inscription Failed.\");}};return/*#__PURE__*/_jsx(\"main\",{class:themeData.main,children:/*#__PURE__*/_jsx(\"div\",{class:themeData.wrapper,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{\"data-translate-key\":\"signIn\",children:languageData.signIn}),/*#__PURE__*/_jsxs(\"div\",{class:themeData.inputBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nomClient\",placeholder:languageData.lastName,value:nom,onChange:e=>setNom(e.target.value)// Met à jour l'état\n,required:true}),/*#__PURE__*/_jsx(\"i\",{class:\"bx bxs-user\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:themeData.inputBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"prenomClient\",placeholder:languageData.firstName,value:prenom,onChange:e=>setPrenom(e.target.value)// Met à jour l'état\n,required:true}),/*#__PURE__*/_jsx(\"i\",{class:\"bx bxs-user\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:themeData.inputBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"login\",placeholder:languageData.username,value:login,onChange:e=>setLogin(e.target.value)// Met à jour l'état\n,required:true}),/*#__PURE__*/_jsx(\"i\",{class:\"bx bxs-user-circle\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:themeData.inputBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"mdp\",placeholder:languageData.password,value:mdp,onChange:e=>setMdp(e.target.value)// Met à jour l'état\n,required:true}),/*#__PURE__*/_jsx(\"i\",{class:\"bx bxs-lock-alt\"})]}),/*#__PURE__*/_jsx(\"div\",{class:themeData.souvenirOublie,children:/*#__PURE__*/_jsx(Link,{to:\"/connexion\",\"data-translate-key\":\"connect\",children:languageData.connect})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:themeData.btn+\" link-color\",\"data-translate-key\":\"register\",children:languageData.register})]})})});}export default Inscription;","map":{"version":3,"names":["Link","useLanguage","useTheme","React","useState","jsx","_jsx","jsxs","_jsxs","Inscription","languageData","login","setLogin","mdp","setMdp","errorMessage","setErrorMessage","nom","setNom","prenom","setPrenom","themeData","submitInscription","response","fetch","method","headers","body","URLSearchParams","objet","action","userName","prenomClient","nomClient","ok","Error","data","json","console","log","error","handleSubmit","e","preventDefault","isValid","window","location","href","class","main","children","wrapper","onSubmit","signIn","inputBox","type","name","placeholder","lastName","value","onChange","target","required","firstName","username","password","souvenirOublie","to","connect","btn","register"],"sources":["C:/Users/melis/OneDrive/Documents/ENSIIE/S1/web/PROJET-1/boite-a-mot-good-vers/front/src/pages/Connexion/Inscription.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport '../../css/inscription.css';\r\nimport { useLanguage } from '../../store/languageContext';\r\nimport { useTheme } from '../../store/themeContext';\r\nimport React, { useState } from \"react\";\r\n\r\nfunction Inscription() {\r\n    const { languageData } = useLanguage();\r\n    const [login, setLogin] = useState(\"\");\r\n    const [mdp, setMdp] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\"); // Pour afficher les messages d'erreur\r\n    const [nom, setNom] = useState(\"\");\r\n    const [prenom, setPrenom] = useState(\"\");\r\n    const {themeData} = useTheme();\r\n\r\n    \r\n    // Fonction pour vérifier les identifiants via le backend PHP\r\n    const submitInscription = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost/word-box/server/routeur.php', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                },\r\n                body: new URLSearchParams({\r\n                    objet: 'Client',\r\n                    action: 'inscrire',\r\n                    userName: login,\r\n                    mdp: mdp,\r\n                    prenomClient: prenom,\r\n                    nomClient: nom\r\n\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const data = await response.json();\r\n            console.log('reponse webservice', data);\r\n            return true;\r\n        } catch (error) {\r\n            console.error(\"Erreur lors de la création du compte :\", error);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // Appeler la fonction checkCredentials dans handleSubmit\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const isValid = await submitInscription();\r\n        if (isValid) {\r\n            window.location.href = \"/home\"; // Rediriger vers la page d'accueil\r\n        } else {\r\n            setErrorMessage(\"Échec de la connexion. Inscription Failed.\");\r\n        }\r\n    };\r\n    return (\r\n        <main class={themeData.main}>\r\n\r\n            <div class={themeData.wrapper}>\r\n                <form onSubmit={handleSubmit}>\r\n                    <h1 data-translate-key=\"signIn\">{languageData.signIn}</h1>\r\n                    <div class={themeData.inputBox}>\r\n                        <input \r\n                        type=\"text\"\r\n                         name=\"nomClient\"\r\n                          placeholder={languageData.lastName}\r\n                          value={nom}\r\n                          onChange={(e) => setNom(e.target.value)} // Met à jour l'état\r\n                          required />\r\n                        <i class='bx bxs-user'></i>\r\n                    </div>\r\n                    <div class={themeData.inputBox}>\r\n                        <input \r\n                        type=\"text\"\r\n                         name=\"prenomClient\"\r\n                          placeholder={languageData.firstName} \r\n                          value={prenom}\r\n                          onChange={(e) => setPrenom(e.target.value)} // Met à jour l'état\r\n                          required />\r\n                        <i class='bx bxs-user'></i>\r\n                    </div>\r\n                    <div class={themeData.inputBox}>\r\n                        <input type=\"text\" name=\"login\"\r\n                         placeholder={languageData.username} \r\n                         value={login}\r\n                         onChange={(e) => setLogin(e.target.value)} // Met à jour l'état\r\n                         required />\r\n                        <i class='bx bxs-user-circle'></i>\r\n                    </div>\r\n                    <div class={themeData.inputBox}>\r\n                        <input type=\"password\" name=\"mdp\" \r\n                        placeholder={languageData.password}\r\n                        value={mdp}     \r\n                        onChange={(e) => setMdp(e.target.value)} // Met à jour l'état\r\n\r\n                        required />\r\n                        <i class='bx bxs-lock-alt'></i>\r\n                    </div>\r\n                   \r\n\r\n                    <div class={themeData.souvenirOublie}>\r\n                        <Link to=\"/connexion\" data-translate-key=\"connect\" >{languageData.connect}</Link>\r\n                    </div>\r\n                    <button type=\"submit\" class={themeData.btn+\" link-color\" } data-translate-key=\"register\" >{languageData.register}</button>\r\n                </form>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Inscription;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}